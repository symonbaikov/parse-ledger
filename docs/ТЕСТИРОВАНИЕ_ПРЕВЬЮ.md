# Быстрое тестирование UI превью PDF

## Цель
Проверить, что превью PDF документов отображаются правильно после удаления рамок и увеличения размера.

## Что проверить

### ✅ Основные проверки

#### 1. Страница Statements (Выписки)
- [ ] Превью PDF имеет размер **80x80 пикселей**
- [ ] **Нет** серого/красного фона вокруг превью
- [ ] **Нет** закругленных углов (rounded-xl)
- [ ] Видна легкая тень (`shadow-sm`)
- [ ] При наведении мышкой - плавное изменение прозрачности
- [ ] Клик по превью открывает модальное окно просмотра
- [ ] В превью видно содержимое первой страницы PDF

#### 2. Страница Storage (Хранилище)
- [ ] Превью в основной таблице: **80x80 пикселей**
- [ ] **Нет** декоративного фона или рамки
- [ ] При наведании - плавная анимация прозрачности
- [ ] Клик открывает модальное окно
- [ ] Содержимое документа различимо

#### 3. Модальное окно с папками
- [ ] Превью в списке файлов папки: **60x60 пикселей**
- [ ] **Нет** серого контейнера `bg-slate-50`
- [ ] Документы легко различить по превью

#### 4. Состояние загрузки
- [ ] Пока превью загружается, виден спиннер
- [ ] После загрузки спиннер исчезает плавно
- [ ] Нет "прыжков" layout при загрузке

#### 5. Обработка ошибок
- [ ] Если превью не загрузилось, показывается иконка PDF
- [ ] Иконка PDF отцентрирована
- [ ] Размер иконки пропорционален размеру превью

## Быстрый тест

### Шаг 1: Откройте приложение
```
http://localhost:3000
```

### Шаг 2: Перейдите на страницу Statements
```
http://localhost:3000/statements
```

### Шаг 3: Загрузите тестовый PDF
Используйте любой PDF файл (например, банковскую выписку)

### Шаг 4: Проверьте превью
1. Найдите файл в таблице
2. Посмотрите на превью - оно должно быть **большим** (80x80px)
3. **НЕ** должно быть рамки или цветного фона
4. Должна быть видна первая страница документа
5. Наведите мышь - должна измениться прозрачность
6. Кликните - должно открыться модальное окно

### Шаг 5: Проверьте Storage
```
http://localhost:3000/storage
```
Повторите проверки для этой страницы.

### Шаг 6: Проверьте модальное окно папок
1. На странице Storage откройте модальное окно "Папки и теги"
2. Проверьте превью в списке файлов папки
3. Превью должно быть 60x60px без рамок

## Визуальное сравнение

### ❌ НЕ ДОЛЖНО БЫТЬ так:
```
┌─────────────────────┐
│  ┏━━━━━━━━━━━━━┓    │  ← Красная/серая рамка
│  ┃ bg-red-50   ┃    │  
│  ┃  [крошка]   ┃    │  ← Маленькое превью 40x40px
│  ┗━━━━━━━━━━━━━┛    │
└─────────────────────┘
```

### ✅ ДОЛЖНО БЫТЬ так:
```
┌──────────────────────────┐
│                          │
│  ┌────────────────────┐  │  ← Нет рамки!
│  │                    │  │
│  │  [БОЛЬШОЕ ПРЕВЬЮ]  │  │  ← 80x80px
│  │  [ПЕРВОЙ СТРАНИЦЫ] │  │  ← Видно содержимое
│  │                    │  │
│  └────────────────────┘  │
│     (легкая тень)        │
└──────────────────────────┘
```

## Инспектор браузера

Если хотите проверить технически, откройте DevTools:

### Проверка размера
```javascript
// В консоли браузера
document.querySelector('[alt*="PDF thumbnail"]').getBoundingClientRect()
// Должно показать: width: 80, height: 80 (или 60 в модалке)
```

### Проверка родительского контейнера
```javascript
// Не должно быть классов: rounded-xl, bg-red-50, bg-slate-50
const container = document.querySelector('[title="Открыть предпросмотр"]')
console.log(container.className)
// Должно содержать: "flex items-center justify-center cursor-pointer"
// НЕ должно содержать: "rounded-xl", "bg-red-50"
```

## Часто встречающиеся проблемы

### Проблема: Превью все еще маленькое
**Решение:** Очистите кэш браузера (Ctrl+Shift+R или Cmd+Shift+R)

### Проблема: Видна старая рамка
**Решение:** 
1. Проверьте, что фронтенд контейнер перезапущен
2. Очистите кэш браузера
3. Откройте в режиме инкогнито

### Проблема: Превью не загружается
**Решение:**
1. Откройте консоль браузера (F12)
2. Проверьте ошибки в Network tab
3. Убедитесь, что backend работает
4. Проверьте наличие токена авторизации

## Автоматическая проверка (опционально)

Если хотите написать автотест:

```typescript
// Cypress / Playwright пример
it('should display PDF thumbnail without border', () => {
  cy.visit('/statements')
  
  // Проверяем размер
  cy.get('[alt*="PDF thumbnail"]')
    .should('have.css', 'width', '80px')
    .should('have.css', 'height', '80px')
  
  // Проверяем отсутствие рамки
  cy.get('[title="Открыть предпросмотр"]')
    .should('not.have.class', 'rounded-xl')
    .should('not.have.class', 'bg-red-50')
    .should('have.class', 'cursor-pointer')
})
```

## Итоговый чеклист

- [ ] Превью большое (80x80 или 60x60)
- [ ] Нет цветного фона
- [ ] Нет закругленной рамки
- [ ] Видно содержимое документа
- [ ] Hover эффект работает
- [ ] Клик открывает модалку
- [ ] Работает на всех страницах (Statements, Storage, модалки)
- [ ] Работает в светлой и темной теме
- [ ] Не ломается layout при загрузке

## Обратная связь

Если что-то работает не так, проверьте:
1. Версию фронтенда (должен быть перезапущен после изменений)
2. Кэш браузера (очистите)
3. Консоль браузера (ошибки JS/CSS)
4. Network tab (загрузка превью)

---

**Документация:** [УЛУЧШЕНИЯ_ПРЕВЬЮ_PDF.md](./УЛУЧШЕНИЯ_ПРЕВЬЮ_PDF.md)